syntax = "proto2";

package com.berserkbentobox.coldwar;

import "Leader.proto";
import "Dissidents.proto";
import "Id.proto";

enum ProvinceRegion {
	WESTERN_EUROPE = 1;
	EASTERN_EUROPE = 2;
	CENTRAL_AMERICA = 3;
	SOUTH_AMERICA = 4;
	AFRICA = 5;
	MIDDLE_EAST = 6;
	SOUTH_ASIA = 7;
	EAST_ASIA = 8;

	SUPERPOWERS = 9;
}

message ProvinceMechanicState {
	repeated ProvinceState province_state = 1;
}

message ProvinceState {
	optional ProvinceId id = 1;
	optional int32 influence = 3 [default = 0];
	optional Government gov = 5 [default = REPUBLIC];
	optional ProvinceId occupier = 6;
	optional ProvinceId base = 9;
	optional ProvinceId ally = 10;
	optional bool has_leader = 11;
	optional LeaderState leader = 12;
	optional bool has_dissidents = 13;
	optional Dissidents dissidents = 14;
	optional Conflict conflict = 15;
}

message Conflict {

	enum Type {
		CIVIL_WAR = 1;
	}

	optional bool active = 2 [default = false];
	optional bool dormant = 3 [default = false];
	optional Type type = 4;
	optional int32 goal = 5 [default = 1];
	optional int32 defender_progress = 6 [default = 0];
	optional int32 attacker_progress = 7 [default = 0];
	optional Dissidents rebels = 8;
	repeated ProvinceId attacker = 9;
	optional int32 length = 10 [default = -1];
	optional ProvinceId attacker_supporter = 11;
	optional ProvinceId defender_supporter = 12;
	optional string name = 13;
	optional int32 base_chance = 14 [default = 200000]; // Base chance
	optional int32 att_chance_mod = 15 [default = 000000];
	optional int32 def_chance_mod = 16 [default = 000000];
}